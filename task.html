<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>task</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body class="">
  <h1 class="text-center text-3xl font-bold">User Details</h1>

  <div class="flex justify-center mb-6">
    <button onclick="fetchData()"
      class="bg-black text-white rounded-lg px-6 py-3 mt-5 hover:bg-white hover:text-black hover:border-gray-700 border">
      Fetch the Data
    </button>
  </div>

  <section id="result"></section>

  <script>
    function fetchData() {
      const result = document.getElementById("result");
      result.innerHTML = `<p class="col-span-full text-center text-lg text-gray-600">Loadingâ€¦</p>`;

      const reqobj = new XMLHttpRequest();
      reqobj.open('GET', 'https://dummyjson.com/users');
      reqobj.send();
      reqobj.onreadystatechange = () => {
        if (reqobj.readyState === 4 && reqobj.status === 200) {
          const data = JSON.parse(reqobj.responseText);


          setTimeout(() => {
            displayArray(data.users);
          }, 2000);
        }
      }
    }

    function displayArray(users) {
      const result = document.getElementById("result");
      result.innerHTML = "";

      users.forEach(detail => {
        result.innerHTML += `
          <div class="max-w-sm mx-auto bg-white shadow-lg rounded-2xl p-6 border border-gray-200 mb-4">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">${detail.firstName} ${detail.lastName}</h2>
            <div class="space-y-2 text-gray-600">
              <p><span class="font-medium text-gray-700">ID:</span> ${detail.id}</p>
              <p><span class="font-medium text-gray-700">Email:</span> ${detail.email}</p>
              <p><span class="font-medium text-gray-700">Phone:</span> ${detail.phone}</p>
              <p><span class="font-medium text-gray-700">City:</span> ${detail.address.city}</p>
            </div>
          </div>
        `;
      });
    }
  </script>
</body>

</html>